# Домашнее задание к занятию 5.3. «Введение. Экосистема. Архитектура. Жизненный цикл Docker-контейнера»

***

## Задание 1

<details><summary><b>Сценарий выполнения задачи:</b></summary>

> + создайте свой репозиторий на https://hub.docker.com;
> + выберите любой образ, который содержит веб-сервер Nginx;
> + создайте свой fork образа;
> + реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
>```
> <html>
> <head>
> Hey, Netology
> </head>
> <body>
> <h1>I’m DevOps Engineer!</h1>
> </body>
> </html>
>```
>Опубликуйте созданный fork в своём репозитории и предоставьте ответ в виде ссылки на  
>https://hub.docker.com/username_repo.

</details>

***

## Задание 2

*Посмотрите на сценарий ниже и ответьте на вопрос*: «*Подходит ли в этом сценарии использование Docker-контейнеров* 
*или лучше подойдёт виртуальная машина, физическая машина? Может быть, возможны разные варианты*?»

*Детально опишите и обоснуйте свой выбор*.

<b>Сценарий</b>

> Высоконагруженное монолитное Java веб-приложение

Целесообразно использовать виртуальные или физические машины, т.к. типичное монолитное приложение обычно тяжеловесно и высоконагруженно что требует прямого доступа к ресурсам.

> Nodejs веб-приложение

Это веб приложение, для таких приложений достаточно докера. Простота развертывания приложения, лёгковесность и масштабирование.

> Мобильное приложение c версиями для Android и iOS

Необходим GUI, так что подойдет виртуалка.

> Шина данных на базе Apache Kafka

Т.к. шина данных является специфическим связующим звеном, в проектах мы используем физические и виртуальные сервера - в основном связано с тем что при переконфигурировании шины велика вероятность потери отправленных данных.

> Elasticsearch-кластер для реализации логирования продуктивного веб-приложения — три ноды elasticsearch, два logstash и две ноды kibana

Elasticsearch лучше на VM, отказоустойчивость решается на уровне кластера, kibana и logstash можно вынести в Docker.

> Мониторинг-стек на базе Prometheus и Grafana

 Docker, так как данные не хранятся, и масштабировать легко, лёгкость и скорость развёртывания.

> MongoDB как основное хранилище данных для Java-приложения

Можно использовать виртуальную машину, можно физический сервер. Разница вероятно всего в нагруженности сервиса при большой нагрузке лучше использовать физический сервер.

> Gitlab-сервер для реализации CI/CD-процессов и приватный (закрытый) Docker Registry

Docker не подходит в данном случае, т.к. при потере контейнера будет сложно восстановить частоизменяемые данные. Здесь больше подходят физические или виртуальные сервера.

***

## Задание 3

 + *Запустите первый контейнер из образа* **centos** *c любым тегом в фоновом режиме, подключив папку `/data` из текущей рабочей директории на хостовой машине в `/data` контейнера*.
 + *Запустите второй контейнер из образа* **debian** *в фоновом режиме, подключив папку `/data` из текущей рабочей директории на хостовой машине в `/data` контейнера*.
 + *Подключитесь к первому контейнеру с помощью `docker exec` и создайте текстовый файл любого содержания в `/data`*.
 + *Добавьте ещё один файл в папку `/data` на хостовой машине*.
 + *Подключитесь во второй контейнер и отобразите листинг и содержание файлов в `/data` контейнера*.

***

## Задание 4(*)

*Воспроизведите практическую часть лекции самостоятельно*.

*Соберите Docker-образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам*.
