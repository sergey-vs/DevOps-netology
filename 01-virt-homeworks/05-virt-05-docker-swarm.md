# Домашнее задание к занятию 5.5 «Оркестрация кластером Docker контейнеров на примере Docker Swarm»

## Задача 1

*Дайте письменые ответы на вопросы*:

 > В чём отличие режимов работы сервисов в Docker Swarm-кластере: replication и global?

+ Для реплицируемой службы вы указываете количество идентичных задач, которые хотите выполнить.

+ Глобальная служба - это служба, которая выполняет одну задачу на каждом узле. Заранее определенного количества задач не существует. Каждый раз, когда вы добавляете узел в swarm, orchestrator создает задачу, а планировщик назначает задачу новому узлу.

 > Какой алгоритм выбора лидера используется в Docker Swarm-кластере?

+ В Docker Swarm кластере используется так называемый алгоритм поддержания распределенного консенсуса — Raft. Выбор лидера происходит следующим образом: если ноды-фолловеры не слышат лидера, они переходят в статус кандидата, кандидат на лидера отправляет остальным нодам запрос на голосование и, большинством голосов, выбирается лидером.

 > Что такое Overlay Network?

+ Overlay network - это внутренняя виртуальная сеть кластера docker swarm, которая упрощает взаимодействие узлов кластера между собой.

***

## Задача 2

*Создайте ваш первый Docker Swarm-кластер в Яндекс Облаке*.

*Чтобы получить зачёт, предоставьте скриншот из терминала (консоли) с выводом команды*:

```bash

docker node ls

```
***

## Задача 3

*Создайте ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов*.

*Чтобы получить зачёт, предоставьте скриншот из терминала (консоли), с выводом команды*:

```bash

docker service ls

```

***

## Задача 4 (*)

*Выполните на лидере Docker Swarm-кластера команду, указанную ниже, и дайте письменное описание её функционала — что она делает и зачем нужна*:

```bash

# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true

```
